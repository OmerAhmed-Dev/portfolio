{{ define "main" }}
<section class="list-section">
    <div class="container">
        <header class="section-header">
            <h1 class="page-title glitch" data-text="{{ .Title }}">{{ .Title }}</h1>
            {{ with .Content }}
            <div class="section-description">
                {{ . }}
            </div>
            {{ end }}
        </header>

        {{ if .Params.categories }}
        <div class="filter-tags">
            <button class="tag-filter active" data-filter="all">All</button>
            {{ range .Site.Taxonomies.categories }}
            <button class="tag-filter" data-filter="{{ .Page.Title | urlize }}">{{ .Page.Title }}</button>
            {{ end }}
        </div>
        {{ end }}

        <div class="posts-grid">
            {{ range .Pages }}
            <article class="post-card" data-category="{{ range .Params.categories }}{{ . | urlize }} {{ end }}">
                <div class="card-glow"></div>

                {{ with .Params.image }}
                <div class="post-image">
                    <img src="{{ . }}" alt="{{ $.Title }}" loading="lazy">
                    <div class="image-overlay"></div>
                </div>
                {{ end }}

                <div class="post-content">
                    <div class="post-meta">
                        <time datetime="{{ .Date.Format "2006-01-02" }}">
                            {{ .Date.Format "Jan 02, 2006" }}
                        </time>
                        {{ with .ReadingTime }}
                        <span class="reading-time">{{ . }} min read</span>
                        {{ end }}
                    </div>

                    <h2 class="post-title">
                        <a href="{{ .Permalink }}">{{ .Title }}</a>
                    </h2>

                    <p class="post-excerpt">{{ .Summary | truncate 150 }}</p>

                    {{ with .Params.tags }}
                    <div class="post-tags">
                        {{ range . }}
                        <span class="tag">#{{ . }}</span>
                        {{ end }}
                    </div>
                    {{ end }}

                    <a href="{{ .Permalink }}" class="read-more">
                        ACCESS_FILE <span class="arrow">&gt;&gt;</span>
                    </a>
                </div>
            </article>
            {{ end }}
        </div>

        {{ template "_internal/pagination.html" . }}
    </div>
</section>
{{ end }}
